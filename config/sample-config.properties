# =============================================================================
# Schema Change Notifier - Sample Configuration
# =============================================================================
# Copy this file to application.properties and fill in your credentials.
#
# For detailed documentation, see README.md
# =============================================================================

# =============================================================================
# AUDIT LOG CLUSTER (Required)
# =============================================================================
# The Confluent Cloud audit log cluster where all organization events are stored.
# Find these credentials in: Organization Settings → Audit Log → Access
#
# ⚠️ The audit log API key needs read access to confluent-audit-log-events topic

audit.log.bootstrap.servers=pkc-xxxxx.region.aws.confluent.cloud:9092
audit.log.api.key=YOUR_AUDIT_LOG_API_KEY
audit.log.api.secret=YOUR_AUDIT_LOG_API_SECRET

# Optional: Override the default audit log topic (rarely needed)
# audit.log.topic=confluent-audit-log-events


# =============================================================================
# ENVIRONMENTS TO MONITOR (Required - at least one)
# =============================================================================
# Add a block for each Confluent Cloud environment you want to monitor.
# The tool uses these credentials to fetch full schema content from Schema Registry.
#
# Find your environment ID in the URL: https://confluent.cloud/environments/env-XXXXX
# Find SR credentials in: Environment → Schema Registry → API Keys
#
# Format:
#   environments.<env-id>.schema.registry.url=https://...
#   environments.<env-id>.schema.registry.api.key=...
#   environments.<env-id>.schema.registry.api.secret=...

# Environment 1 (example: Production)
environments.env-abc123.schema.registry.url=https://psrc-xxxxx.region.aws.confluent.cloud
environments.env-abc123.schema.registry.api.key=YOUR_SR_API_KEY_1
environments.env-abc123.schema.registry.api.secret=YOUR_SR_API_SECRET_1

# Environment 2 (example: Staging) - uncomment to add
# environments.env-def456.schema.registry.url=https://psrc-yyyyy.region.aws.confluent.cloud
# environments.env-def456.schema.registry.api.key=YOUR_SR_API_KEY_2
# environments.env-def456.schema.registry.api.secret=YOUR_SR_API_SECRET_2


# =============================================================================
# TARGET KAFKA CLUSTER (Required)
# =============================================================================
# Where schema change notifications will be produced.
# This can be the same cluster as one of your environments or a dedicated cluster.
#
# The target topic will be created if it doesn't exist (if auto-create is enabled)
# or should be created manually before running the tool.

target.bootstrap.servers=pkc-yyyyy.region.aws.confluent.cloud:9092
target.api.key=YOUR_TARGET_API_KEY
target.api.secret=YOUR_TARGET_API_SECRET
target.topic=schema-change-notifications


# =============================================================================
# TARGET SCHEMA REGISTRY (Required)
# =============================================================================
# Used for Avro serialization of notification messages.
# The notification schema will be registered as: <topic>-value
# (e.g., schema-change-notifications-value)

target.schema.registry.url=https://psrc-zzzzz.region.aws.confluent.cloud
target.schema.registry.api.key=YOUR_TARGET_SR_API_KEY
target.schema.registry.api.secret=YOUR_TARGET_SR_API_SECRET


# =============================================================================
# CONSUMER CONFIGURATION (Optional)
# =============================================================================

# Consumer group ID - use unique IDs for different deployments
# consumer.group.id=schema-change-notifier

# Maximum records per poll
# batch.size=100

# Poll timeout in milliseconds
# poll.timeout.ms=1000


# =============================================================================
# FILTERING (Optional)
# =============================================================================

# Only process successful operations (recommended)
# only.successful=true

# Include compatibility and mode change events
# include.config.changes=false

# Filter to specific subjects (comma-separated, supports glob patterns)
# Examples: orders-*, payments-value, users-*
# subject.filters=


# =============================================================================
# DEDUPLICATION (Optional)
# =============================================================================

# Path to store deduplication state (for crash recovery)
# state.file.path=./schema-change-notifier-state.json


# =============================================================================
# SECURITY (Optional)
# =============================================================================
# Authentication settings for Kafka connections.
# Default: SASL_SSL with PLAIN (standard for Confluent Cloud)

# Supported values: PLAINTEXT, SSL, SASL_PLAINTEXT, SASL_SSL
# security.protocol=SASL_SSL

# Supported values: PLAIN, SCRAM-SHA-256, SCRAM-SHA-512, OAUTHBEARER
# sasl.mechanism=PLAIN


# =============================================================================
# HEALTH CHECK (Optional)
# =============================================================================
# Lightweight HTTP server for health checks and metrics.
# GET /health - Returns UP/DOWN status
# GET /metrics - Returns processing counters

# Port for health check server (set to 0 to disable)
# health.port=8080


# =============================================================================
# PARALLEL PROCESSING (Optional)
# =============================================================================
# Number of threads for parallel event processing within each batch.
# Set to 1 for sequential processing (default).

# processing.threads=1


# =============================================================================
# OPERATIONAL (Optional)
# =============================================================================

# Dry run mode - log notifications without producing
# dry.run=false
